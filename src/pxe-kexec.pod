
=head1 NAME

pxe-kexec - Read PXE configuration file and kexec entries


=head1 SYNOPSIS

pxe-kexec [options] [I<tftp_server>]


=head1 DESCRIPTION

B<pxe-kexec> is a tool that fetches PXE configuration from a TFTP server,
reads that PXE configuration file, prompts the user for an boot entry,
downloads the specified kernel and initrd and finally executes the both using
B<kexec>.

It's meant to be used in an environment where pre-defined PXE configurations
exist but the user wants to use B<kexec> instead of rebooting.

Normally, the I<tftp_server> must be specified as first argument. If there's
no TFTP server specified, B<pxe-kexec> looks in the DHCP info file for the
DHCP server and uses this one as TFTP server. This only works when the TFTP
server is running on the same machine as the DHCP server.


=head1 OPTIONS

Following options can be specified:

=over 7

=item B<-h> | B<--help>

Prints a short help.

=item B<-v> | B<--version>

Prints the version number to standard output.

=item B<-l> I<label> | B<--label> I<label>

Specifies the label that should be booted. Use that option if you already know
which I<label> you want to boot. This option implies B<--quiet>.

=item B<-i> | B<--interface> I<netif>

Uses I<netif> instead of the first (non-loopback and up) interface that is
found. Example: "eth5".

=item B<-n> | B<--noconfirm>

Don't ask the user for confirmation before booting an entry. Use that option
with care!

=item B<-Y> | B<--dry-run>

Don't run the final kexec -e.

=item B<-q> | B<--quiet>

Don't display the PXE messages that are added in the PXE configuration with
the I<say> keyword. Also don't display messages which PXE configuration files
the downloader tries to fetch.

=item B<-D> | B<--debug>

Enable debugging output. That's good for finding (and fixing!) bugs.

=item B<-d> | B<--nodelete>

Keep downloaded files.

=item B<-F> | B<--ftp>

Always use FTP instead of TFTP. Useful for servers that share TFTP root and
FTP root. (Passive) FTP has the advantage that it passes firewalls better
than TFTP.

=back

=head1   EXAMPLES

=over 7

=item B<pxe-kexec I<mydhcp.mydomain.com>>

Try to fetch the PXE configuration from I<mydhcp.mydomain.com>, display
the I<say> messages from that configuration, prompt for an entry, letting
the user confirm that entry and finally boot that entry via kexec(8).

=item B<pxe-kexec -n I<mydhcp.mydomain.com>>

Same as the previous example, but omit the final confirmation step.

=item B<pxe-kexec I<mydhcp.mydomain.com> I<SLES10-install-auto>>

Same as the first example, but don't prompt the user for the label to boot.
Directly boot the I<SLES10-install-auto> label, but letting the user confirm
that he really wants to boot this!

=item B<pxe-kexec -n I<mydhcp.mydomain.com> I<SLES10-install-auto>>

Same as the previous example, but without confirmation.


=back

=head1 AUTHOR

The B<pxe-kexec> program and documentation has been written by Bernhard Walle
E<lt>L<bernhard.walle@gmx.de>E<gt>.

=head1 BUGS

This program has no bugs. If you find a feature that should be removed,
please report to E<lt>L<bernhard.walle@gmx.de>E<gt>
if you don't want to create an account.

=head1 SEE ALSO

kexec(8)



=cut

# vim: set spelllang=en_gb spell fdm=marker tw=78:
